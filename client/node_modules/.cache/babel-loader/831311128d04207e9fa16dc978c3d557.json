{"ast":null,"code":"var _jsxFileName = \"/Users/swagatdash/Documents/Assignments/Dissertation/bot-gen-z/src/js/Pages/RunTime.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react'; // import nodeStructure from '../../nodesStructure.json';\n\nimport nodeStructure from '../../nodesStructureLong.json';\nimport ChatBubbleComponent from '../Components/RuntimeComponents/ChatBubbleComponent'; // class TreeNode {\n//   constructor(info) {\n//     this.label = info.data.label;\n//     this.id = info.id;\n//     this.name = info.name;\n//     this.type =  info.type;\n//     this.children = [];\n//   }\n// }    \n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function RunTime() {\n  _s();\n\n  console.log(nodeStructure);\n  const [executedStages, setExecutedStages] = useState([nodeStructure[0]]); // const nodes = JSON.parse(nodeStructure)\n\n  const handleFlow = event => {\n    console.log('Handle Flow called!!!');\n    console.log('Event:', event);\n    setExecutedStages(prevStage => {\n      console.log(prevStage);\n      let newStage = prevStage;\n\n      if (prevStage[prevStage.length - 1].type == \"startNode\" || prevStage[prevStage.length - 1].type == \"botNode\") {\n        for (let obj of nodeStructure) {\n          if (Object.values(prevStage[prevStage.length - 1].children[0])[0] == obj.id && prevStage[prevStage.length - 1] != obj) newStage = [...prevStage, obj];\n        }\n      } else if (prevStage[prevStage.length - 1].type == \"yesNoNode\") {\n        if (event && event.target.parentElement.id === '0') {\n          console.log('Yes');\n\n          for (let obj of nodeStructure) {\n            if (Object.values(prevStage[prevStage.length - 1].children[0])[0] == obj.id && prevStage[prevStage.length - 1] != obj) newStage = [...prevStage, obj];\n          }\n        } else if (event && event.target.parentElement.id === '1') {\n          for (let obj of nodeStructure) {\n            if (Object.values(prevStage[prevStage.length - 1].children[1])[0] == obj.id && prevStage[prevStage.length - 1] != obj) newStage = [...prevStage, obj];\n          }\n        }\n      }\n\n      return newStage;\n    });\n  };\n\n  useEffect(() => {\n    handleFlow(); // return () => {\n    // };\n  }\n  /*, []*/\n  );\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \" This is runtime page\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }, this), executedStages.map((currentStage, index) => {\n      // <p>{currentStage.text}</p>\n      // console.log(currentStage);\n      return /*#__PURE__*/_jsxDEV(ChatBubbleComponent, {\n        currentStage: currentStage,\n        handleFlow: handleFlow\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 18\n      }, this);\n    })]\n  }, void 0, true);\n}\n\n_s(RunTime, \"TjX2z7axo0yF3ZY3l/fsMvpm1BQ=\");\n\n_c = RunTime;\n\nvar _c;\n\n$RefreshReg$(_c, \"RunTime\");","map":{"version":3,"names":["React","useState","useEffect","nodeStructure","ChatBubbleComponent","RunTime","console","log","executedStages","setExecutedStages","handleFlow","event","prevStage","newStage","length","type","obj","Object","values","children","id","target","parentElement","map","currentStage","index"],"sources":["/Users/swagatdash/Documents/Assignments/Dissertation/bot-gen-z/src/js/Pages/RunTime.js"],"sourcesContent":["import React,{useState,useEffect} from 'react';\n// import nodeStructure from '../../nodesStructure.json';\nimport nodeStructure from '../../nodesStructureLong.json';\nimport ChatBubbleComponent from '../Components/RuntimeComponents/ChatBubbleComponent';\n\n// class TreeNode {\n//   constructor(info) {\n//     this.label = info.data.label;\n//     this.id = info.id;\n//     this.name = info.name;\n//     this.type =  info.type;\n//     this.children = [];\n//   }\n// }    \n\nexport default function RunTime() {\n  console.log(nodeStructure)\n  const [executedStages, setExecutedStages] = useState([nodeStructure[0]])\n  // const nodes = JSON.parse(nodeStructure)\n  const handleFlow = (event) =>{\n    console.log('Handle Flow called!!!')\n    console.log('Event:',event);\n    setExecutedStages(prevStage => {\n      console.log(prevStage)\n      let newStage = prevStage\n      if(prevStage[prevStage.length-1].type == \"startNode\" || prevStage[prevStage.length-1].type == \"botNode\")\n      { \n        for(let obj of nodeStructure)\n        {\n          if(Object.values(prevStage[prevStage.length-1].children[0])[0]==obj.id && prevStage[prevStage.length-1]!= obj)\n            newStage =  [...prevStage,obj]\n        } \n      }\n      else if (prevStage[prevStage.length-1].type == \"yesNoNode\")\n      {\n        if(event && event.target.parentElement.id === '0')\n        {\n          console.log('Yes')\n          for(let obj of nodeStructure)\n          {\n            if(Object.values(prevStage[prevStage.length-1].children[0])[0]==obj.id && prevStage[prevStage.length-1]!= obj)\n              newStage =  [...prevStage,obj]\n          } \n        }\n        else  if(event && event.target.parentElement.id === '1')\n        {\n          for(let obj of nodeStructure)\n          {\n            if(Object.values(prevStage[prevStage.length-1].children[1])[0]==obj.id && prevStage[prevStage.length-1]!= obj)\n              newStage =  [...prevStage,obj]\n          } \n        }\n      }\n      return newStage\n    })\n  }\n\n  useEffect(() => {\n    handleFlow();\n    // return () => {\n      \n    // };\n  }/*, []*/)\n  return (\n    <>\n        <h1> This is runtime page</h1>\n        {executedStages.map((currentStage, index)=>{\n          // <p>{currentStage.text}</p>\n          // console.log(currentStage);\n          return <ChatBubbleComponent key={index} currentStage = {currentStage} handleFlow = {handleFlow}/>\n        })}\n    </>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}